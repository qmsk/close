<div class="stats-chart">
    <h2 ng-if="statsMeta">{{statsMeta.type}}<span ng-if="statsMeta.field">.{{statsMeta.field}}</span><span ng-if="statsMeta.instance">@{{statsMeta.instance}}</span></h2>

    <div ng-if="chartAlert" class="alert alert-warning">
        {{chartAlert}}
    </div>

    <div ng-repeat="chartData in chartMap">
        <h3 ng-if="!statsMeta.field">{{chartData.field}}</h3>
        <flot dataset="chartData" options="chartOptions" width="100%" height="{{height}}"></flot>
    </div>

    <div class="btn-toolbar pull-right">
        <!-- TODO: use http://angular-ui.github.io/bootstrap/#/buttons ? -->
        <div class="btn-group">
            <label class="btn btn-default" ng-class="{active: duration == '10s'}">
                <input type="radio" name="duration" ng-model="duration" ng-change="changeDuration()" value="10s">
                10 seconds
            </label>
            <label class="btn btn-default" ng-class="{active: duration == '1m'}">
                <input type="radio" name="duration" ng-model="duration" ng-change="changeDuration()" value="1m">
                1 minute
            </label>
            <label class="btn btn-default" ng-class="{active: duration == '15m'}">
                <input type="radio" name="duration" ng-model="duration" ng-change="changeDuration()" value="15m">
                15 minutes
            </label>
            <label class="btn btn-default" ng-class="{active: duration == '1h'}">
                <input type="radio" name="duration" ng-model="duration" ng-change="changeDuration()" value="1h">
                1 hour
            </label>
        </div>
        <div class="btn-group">
            <button class="btn btn-default" ng-click="update()">
                <span class="glyphicon glyphicon-refresh"></span>
            </button>
        </div>
    </div>
</div>
