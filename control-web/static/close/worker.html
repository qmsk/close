<div class="page-header"> 
    <h1>Worker {{config}}:{{instance}}</h2>

    <div class="alert alert-warning" ng-if="error">
        {{error}}
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h2>
            <button ng-click="getConfig()" class="pull-right">
                <span class="glyphicon glyphicon-refresh" title="Refresh Config"></span>
            </button>

            Config
        </h2>
        <form name="configForm" ng-submit="submitConfig()">
            <table class="table worker-config">
                <thead>
                    <tr>
                        <th>Key</th>
                        <th>Value</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="(key, value) in configMap">
                        <th>{{key}}</th>
                        <td>{{value}}</td>
                        <td>
                            <input ng-model="postConfig[key]" type="{{inputType(value)}}" placeholder="{{value}}">
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <th></th>
                        <th></th>
                        <th>
                            <button type="submit">Submit</button>
                        </th>
                    </tr>
                </tfoot>
            </table>
        </form>
    </div>

    <div class="col-md-6">
        <button ng-click="getStats()" class="pull-right">
            <span class="glyphicon glyphicon-refresh" title="Refresh Stats"></span>
        </button>
        <h2>Stats</h2>
        <div ng-repeat="data in statsData">
            <flot dataset="data" options="chartOptions" width="400px" height="100px"></flot>
        </div>
    </div>
</div>
